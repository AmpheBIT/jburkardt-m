<html>

  <head>
    <title>
      VELOCITY_ARROWS_GRID - Velocity Plot, Uniform Grid from Scattered Data
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      VELOCITY_ARROWS_GRID <br> 
      Velocity Vector Plot,<br>
      Uniform Grid from Scattered Data
    </h1>

    <hr>

    <p>
      <b>VELOCITY_ARROWS_GRID</b> 
      is a MATLAB program which 
      reads velocity
      data defined at possibly scattered points, and creates a vector plot
      of the velocity field on a uniform grid of user-specified density.
    </p>

    <p>
      The program is mainly a preprocessor for MATLAB's <b>quiver</b>
      routine.  It reads the (X,Y) coordinates of a set of points from 
      a "node" file, and the corresponding horizontal and vertical velocities
      from a "velocity" file.  It uses MATLAB's <b>griddata</b> facility
      to create an interpolatory function to the given data, which is then
      sampled on a regular grid and displayed.
    </p>

    <p>
      The program is especially useful if simply displaying the original
      data is unsuitable, perhaps because there are too many points, or
      too few, or because the density of points varies greatly.
    </p>

    <p>
      Both the node and velocity files are simple "table" files whose
      format is described online.
    </p>

    <p>
      This program was written as a quick and convenient way to
      view finite element data.  It can also be used for any situation
      in which a collection of points and velocities are available.
    </p>

    <p>
      However, a small "sin" is committed when we use this program
      on finite element data, since we take only the node locations 
      and velocities, but not the elements.  We simply use MATLAB's grid 
      data feature which constructs a cubic spline interpolant to 
      scattered data.  This is OK, and probably doesn't distort the 
      data too much, but in fact, we are not actually viewing 
      values of the finite element function, and there is no guarantee
      that this surrogate function will actually satisfy the boundary
      conditions or other characteristics of the finite element
      function.
    </p>

    <p>
      <b>VELOCITY_ARROWS_GRID</b> is based in part on a plotting routine
      written by Professor Hyung-Chun Lee of Ajou University, Korea.
    </p>

    <h3 align = "center">
      Usage:
    </h3>

    <p>
      <blockquote>
        <b>velocity_arrows_grid</b> ( <i>node_file</i>, <i>velocity_file</i>, <i>scale</i>, <i>number</i> )
      </blockquote>
      where
      <ul>
        <li>
          <i>node_file</i> is the name of the node file, which must be a quoted string;
        </li>
        <li>
          <i>velocity_file</i> is the name of the velocity file, which must be a quoted string;
        </li>
        <li>
          <i>scale</i> is a scale factor for the velocity vectors;  A value of 1.0 
          is reasonable.  A value of 0.0 results in automatic scaling.          
        </li>
        <li>
          <i>number</i> is the number of vectors to draw in one direction.  This is
          actually the number that will appear in the <i>longest</i>
          dimension of the region.  A value of 10 is reasonable to start
          with, which would result in 100 vectors if your region happens
          to be a square.          
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files described and made available on this web page 
      are distributed under
      <a href = "../../txt/gnu_lgpl.txt">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Related Data and Programs:
    </h3>

    <p>
      <a href = "../../m_src/direction_arrows/direction_arrows.html">
      DIRECTION_ARROWS</a>,
      a MATLAB program which 
      plots the velocity direction field.
    </p>

    <p>
      <a href = "../../m_src/direction_arrows_grid/direction_arrows_grid.html">
      DIRECTION_ARROWS_GRID</a>,
      a MATLAB program which 
      plots the velocity direction field on a uniform grid of density
      specified by the user.
    </p>

    <p>
      <a href = "../../data/table/table.html">
      TABLE</a>,
      a format which
      is used for the input files to this program.
    </p>

    <p>
      <a href = "../../m_src/vector_magnitude_grid/vector_magnitude_grid.html">
      VECTOR_MAGNITUDE_GRID</a>,
      a MATLAB program which
      reads
      node and vector data from a file, computes an interpolatory function,
      evaluates on a uniform grid of points specified by the user,
      and displays a contour plot of the vector magnitude.
    </p>

    <p>
      <a href = "../../m_src/vector_stream_grid/vector_stream_grid.html">
      VECTOR_STREAM_GRID</a>,
      a MATLAB program which
      reads
      node and vector data from a file, computes an interpolatory function,
      evaluates on a uniform grid of points specified by the user,
      and displays a streamline plot of the vector field.
    </p>

    <p>
      <a href = "../../f_src/vector_plot/vector_plot.html">
      VECTOR_PLOT</a>, 
      a FORTRAN90 program which 
      can read an XY file
      and a UV file and plot the velocity and velocity direction fields.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows/velocity_arrows.html">
      VELOCITY_ARROWS</a>, 
      a MATLAB program which
      plots a velocity field.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows_sequence/velocity_arrows_sequence.html">
      VELOCITY_ARROWS_SEQUENCE</a>, 
      a MATLAB program which
      can process a set of many data files
      with names that are numbered in sequence.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows_sequence2/velocity_arrows_sequence2.html">
      VELOCITY_ARROWS_SEQUENCE2</a>, 
      a MATLAB program which reads a single XYUV file of nodes
      and velocities, plots the data and writes it to a PNG file,
      and then repeats the process for the next file.
    </p>

    <h3 align = "center">
      Source Code:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "velocity_arrows_grid.m">velocity_arrows_grid.m</a>, 
          is the program;
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Examples and Tests:
    </h3>

    <p>
      <b>BIG_CAVITY</b> is a fluid flow problem involving an irregular
      mesh of 8,185 nodes in a square region.  If you try to plot the 
      velocity at every point, you will get an unusable blur.  Using 
      this software, you can ask for a plot on a 10x10 grid or a
      20x20 grid, for instance.
      <ul>
        <li>
          <a href = "nodes.txt">nodes.txt</a>, 
          the coordinatees of 8185 nodes.
        </li>
        <li>
          <a href = "velocity.txt">velocity.txt</a>, 
          the velocity at the nodes.
        </li>
        <li>
          <a href = "velocity_10x10.png">velocity_10x10.png</a>, 
          a <a href = "../../data/png/png.html">PNG</a> image of
          the plot of the velocity field on a 10x10 grid and
          scale factor 1.
        </li>
        <li>
          <a href = "velocity_20x20.png">velocity_20x20.png</a>, 
          a <a href = "../../data/png/png.html">PNG</a> image of
          the plot of the velocity field on a 20x20 grid
          and scale factor 3.
        </li>
      </ul>
    </p>

    <p>
      You can go up one level to <a href = "../m_src.html">
      the MATLAB source codes</a>.
    </p>

    <hr>

    <i>
      Last revised on 29 September 2006.
    </i>

    <!-- John Burkardt -->

  </body>

</html>
