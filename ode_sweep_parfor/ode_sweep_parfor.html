<html>

  <head>
    <title>
      ODE_SWEEP_PARFOR - A Parallel MATLAB Function Using PARFOR
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      ODE_SWEEP_PARFOR <br> A Parallel MATLAB Function Using PARFOR
    </h1>

    <hr>

    <p>
      <b>ODE_SWEEP_PARFOR</b>
      is a directory which
      illustrates how a MATLAB function using the PARFOR statement
      can be run in parallel.
    </p>

    <p>
      Consider the parameterized second order differential equation:
      <pre>
        m x'' + b x' + k x = 0
      </pre>
      which represents the behavior of a spring mass system with a
      mass of <b>m</b>, a spring constant of <b>k</b> and a damping
      coefficient <b>b</b>.
    </p>

    <p>
      We now suppose that we are interested in properties of the solution <b>x(t)</b>
      over the time interval from 0 to 25 seconds, as we vary the physical properties
      <b>b</b> and <b>k</b>.  In particular, we would like to know the maximum value
      of <b>x(t)</b> over the time interval for each choice of the physical parameters.
    </p>

    <p>
      To answer this question, we must solve the ODE for each choice of the parameters.
      Each solution is an independent computation, and one way to carry out the
      computations in parallel is to use MATLAB's <b>parfor</b> statement.
    </p>

    <p>
      The basic function has the form:
      <blockquote>
        function peakVals = ode_fun ( bVals, kVals )
      </blockquote>
      where
      <ul>
        <li>
          bVals is an array of B values;
        </li>
        <li>
          kVals is an array of K values;
        </li>
        <li>
          peakVals is an array containing the maximum value of the ODE solution
          for each combination of B and K.
        </li>
      </ul>
    </p>

    <p>
      Depending on the situation, the function could be executed in parallel:
      <ul>
        <li>
          interactively, and locally, using the <b>matlabpool</b> command;
        </li>
        <li>
          indirectly, and locally, using the <b>batch</b> command;
        </li>
        <li>
          indirectly, and on the Ithaca cluster, using the <b>batch</b> command;
        </li>
        <li>
          indirectly, and on the FSU HPC cluster, using the <b>fsuClusterMatlab</b> command;
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files described and made available on this web page
      are distributed under
      <a href = "../../txt/gnu_lgpl.txt">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Languages:
    </h3>

    <p>
      <b>ODE_SWEEP_PARFOR</b> is available in
      <a href = "../../m_src/ode_sweep_parfor/ode_sweep_parfor.html">a MATLAB version</a>.
    </p>

    <h3 align = "center">
      Related Data and Programs:
    </h3>

    <p>
      <a href = "../../m_src/collatz_parfor/collatz_parfor.html">
      COLLATZ_PARFOR</a>,
      a MATLAB program which
      seeks the maximum Collatz sequence between 1 and N,
      running in parallel using MATLAB's parfor feature.
    </p>

    <p>
      <a href = "../../m_src/heated_plate_parfor/heated_plate_parfor.html">
      HEATED_PLATE_PARFOR</a>,
      a MATLAB program which
      solves the steady (time independent) heat equation in a 2D
      rectangular region, using MATLAB's parfor facility to run in parallel.
    </p>

    <p>
      <a href = "../../m_src/hello_parfor/hello_parfor.html">
      HELLO_PARFOR</a>,
      a MATLAB program which
      prints out "Hello, world!" multiple times, using MATLAB's parfor command
      for parallel execution.
    </p>

    <p>
      <a href = "../../m_src/high_card_parfor/high_card_parfor.html">
      HIGH_CARD_PARFOR</a>,
      a MATLAB program which
      uses the parfor statement to compute in parallel the statistics for
      a card game in which you are required to guess the location of the
      highest card.
    </p>

    <p>
      <a href = "../../m_src/matlab_parallel/matlab_parallel.html">
      MATLAB_PARALLEL</a>,
      programs which
      illustrate "local" parallel programming on a single computer
      with MATLAB's Parallel Computing Toolbox.
    </p>

    <p>
      <a href = "../../m_src/matlab_random_parallel/matlab_random_parallel.html">
      MATLAB_RANDOM_PARALLEL</a>,
      MATLAB programs which
      illustrate the use of Matlab's random number generator (RNG) functions
      when using parallel features such as parfor or spmd.
    </p>

    <p>
      <a href = "../../m_src/matrix_assemble_parfor/matrix_assemble_parfor.html">
      MATRIX_ASSEMBLE_PARFOR</a>,
      a MATLAB program which
      demonstrates the parfor parallel programming 
      feature by assembling the Hilbert matrix in a parallel loop.
    </p>

    <p>
      <a href = "../../m_src/md_parfor/md_parfor.html">
      MD_PARFOR</a>,
      a MATLAB program which
      carries out a molecular dynamics simulation,
      running in parallel using MATLAB's "PARFOR" feature.
    </p>

    <p>
      <a href = "../../m_src/ode_sweep_serial/ode_sweep_serial.html">
      ODE_SWEEP_SERIAL</a>,
      a MATLAB program which
      computes a grid of solutions to a parameterized system of 
      ordinary differential equations (ODE's).
    </p>

    <p>
      <a href = "../../m_src/prime_parfor/prime_parfor.html">
      PRIME_PARFOR</a>,
      a MATLAB program which
      counts the number of primes between 1 and N;
      running in parallel using MATLAB's "PARFOR" feature.
    </p>

    <p>
      <a href = "../../m_src/quad_parfor/quad_parfor.html">
      QUAD_PARFOR</a>,
      a MATLAB program which
      estimates an integral using quadrature;
      running in parallel using MATLAB's "PARFOR" feature.
    </p>

    <p>
      <a href = "../../m_src/satisfy_parfor/satisfy_parfor.html">
      SATISFY_PARFOR</a>,
      a MATLAB program which
      demonstrates, for a particular circuit, an exhaustive search
      for solutions of the circuit satisfiability problem,
      running in parallel using MATLAB's "PARFOR" feature.
    </p>

    <p>
      <a href = "../../m_src/sparse_parfor/sparse_parfor.html">
      SPARSE_PARFOR</a>,
      a MATLAB library which
      demonstrates how a sparse matrix can be constructed by
      evaluating individual blocks in parallel with the <b>parfor</b>
      command, and then assembled (on a single processor) using the 
      <b>sparse()</b> command.
    </p>

    <h3 align = "center">
      Reference:
    </h3>

    <p>
      The User's Guide for the Parallel Computing Toolbox is available at
      <a href = "http://www.mathworks.com/access/helpdesk/help/pdf_doc/distcomp/distcomp.pdf">
                 http://www.mathworks.com/access/helpdesk/help/pdf_doc/distcomp/distcomp.pdf</a>
    </p>

    <p>
      <ol>
        <li>
          Gaurav Sharma, Jos Martin,<br>
          MATLAB: A Language for Parallel Computing,<br>
          International Journal of Parallel Programming,<br>
          Volume 37, Number 1, pages 3-36, February 2009.
        </li>
      </ol>
    </p>

    <h3 align = "center">
      Source Code:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "ode_fun.m">ode_fun.m</a>,
          the function which performs the calculations.
        </li>
        <li>
          <a href = "ode_system.m">ode_system.m</a>,
          a function which redefines the second order ODE as a pair of first order
          ODE's, suitable for treatment by MATLAB's ODE solvers.
        </li>
        <li>
          <a href = "ode_display.m">ode_display.m</a>,
          a script which displays a contour plot of the results of the parameter sweep.
        </li>
        <li>
          <a href = "ode_display.png">ode_display.png</a>,
          a surface plot of the data XMAX(B,K) computed by the program.
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Examples and Tests:
    </h3>

    <p>
      <b>ODE_POOL</b> executes the function locally and interactively.
      <ul>
        <li>
          <a href = "ode_pool.m">ode_pool.m</a>
          a script which uses the MATLABPOOL command to run the function locally and
          interactively.
        </li>
        <li>
          <a href = "ode_pool_output.txt">ode_pool_output.txt</a>
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <b>ODE_BATCH_LOCAL</b> executes the function locally and noninteractively.
      <ul>
        <li>
          <a href = "ode_script.m">ode_script.m</a>
          a script which calls the function, necessary for the BATCH command.
        </li>
        <li>
          <a href = "ode_batch_local.m">ode_batch_local.m</a>
          a script which uses the BATCH command to run the function indirectly
          and locally.
        </li>
        <li>
          <a href = "ode_batch_local_output.txt">ode_batch_local_output.txt</a>
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <b>ODE_FSU</b> executes the function on the FSU HPC cluster.
      <ul>
        <li>
          <a href = "ode_fsu.m">ode_fsu.m</a>
          a script which uses the fsuClusterMatlab command to run the function
          indirectly on the FSU HPC cluster.
        </li>
      </ul>
    </p>

    <p>
      <b>ODE_ITHACA</b> executes the function on the Virginia Tech Ithaca cluster.
      <ul>
        <li>
          <a href = "ode_ithaca.m">ode_ithaca.m</a>
          a script which runs the function on the Virginia Tech Ithaca cluster.
        </li>
      </ul>
    </p>

    <p>
      You can go up one level to <a href = "../m_src.html">
      the MATLAB source codes</a>.
    </p>

    <hr>

    <i>
      Last revised on 26 March 2010.
    </i>

    <!-- John Burkardt -->

  </body>

</html>

