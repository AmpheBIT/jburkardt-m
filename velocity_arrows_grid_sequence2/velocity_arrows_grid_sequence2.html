<html>

  <head>
    <title>
      VELOCITY_ARROWS_GRID_SEQUENCE2 - Velocity Plot, Interpolated Grid, Animation
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      VELOCITY_ARROWS_GRID_SEQUENCE2 <br> 
      Velocity Vector Plot,<br>
      Uniform Grid from Scattered Data,<br>
      Animation Sequence
    </h1>

    <hr>

    <p>
      <b>VELOCITY_ARROWS_GRID_SEQUENCE2</b> 
      is a MATLAB program which
      reads a single XYUV file listing node coordinates and velocities,
      possibly at scattered points, or on a grid that is too dense
      or not dense enough; it interpolates a set of data that it
      samples on a uniform grid, and displays the data, and saves
      it to a PNG file.  It then looks for the next sequentially named
      XYUV file, and if it exists, repeats the process.
    </p>

    <p>
      The program is mainly a preprocessor for MATLAB's <b>quiver</b>
      routine.  It reads the (X,Y) coordinates and (U,V) velocities
      for a set of points.  It uses MATLAB's <b>griddata</b> facility
      to create an interpolatory function to the given data, which is then
      sampled on a regular grid and displayed.
    </p>

    <p>
      The program is especially useful if simply displaying the original
      data is unsuitable, perhaps because there are too many points, or
      too few, or because the density of points varies greatly.
    </p>

    <p>
      The node and velocity file is a simple "table" file whose
      format is described online.
    </p>

    <p>
      The program assumes that the user actually has a
      sequence of XYUV datasets, with "consecutive" names, each of which
      is to be plotted.  The program automatically reads each such
      dataset and creates the sequence of 
      <a href = "../../data/png/png.html">PNG</a> files.  It is easy to
      take such a sequence and make an animation.
    </p>

    <p>
      This program was written as a quick and convenient way to
      view finite element data.  It can also be used for any situation
      in which a collection of points and velocities are available.
    </p>

    <p>
      However, a small "sin" is committed when we use this program
      on finite element data, since we take only the node locations 
      and velocities, but not the elements.  We simply use MATLAB's grid 
      data feature which constructs a cubic spline interpolant to 
      scattered data.  This is OK, and probably doesn't distort the 
      data too much, but in fact, we are not actually viewing 
      values of the finite element function, and there is no guarantee
      that this surrogate function will actually satisfy the boundary
      conditions or other characteristics of the finite element
      function.
    </p>

    <p>
      <b>VELOCITY_ARROWS_GRID_SEQUENCE2</b> is based in part on a plotting 
      routine written by Professor Hyung-Chun Lee of Ajou University, Korea.
    </p>

    <h3 align = "center">
      Usage:
    </h3>

    <p>
      The calling sequence is:
      <blockquote><b>
        velocity_arrows_grid_sequence2 ( xyuv_file, scale, number )
      </b></blockquote>
      where
      <dl>
        <dt>
          xyuv_file
        </dt>
        <dd>
          the name of the first combined node and velocity file, 
          which must be a quoted string;
        </dd>
        <dt>
          scale
        </dt>
        <dd>
          a scale factor for the velocity vectors;  A value of 1.0 
          is reasonable.  A value of 0.0 results in automatic scaling.          
        </dd>
        <dt>
          number
        </dt>
        <dd>
          the number of vectors to draw in one direction.  This is
          actually the number that will appear in the <i>longest</i>
          dimension of the region.  A value of 10 is reasonable to start
          with, which would result in 100 vectors if your region happens
          to be a square.          
        </dd>
      </dl>
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files described and made available on this web page 
      are distributed under
      <a href = "../../txt/gnu_lgpl.txt">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Related Data and Programs:
    </h3>

    <p>
      <a href = "../../m_src/direction_arrows/direction_arrows.html">
      DIRECTION_ARROWS</a>, 
      a MATLAB program which 
      plots the velocity direction field.
    </p>

    <p>
      <a href = "../../m_src/direction_arrows_grid/direction_arrows_grid.html">
      DIRECTION_ARROWS_GRID</a>, 
      a MATLAB program which 
      plots the velocity direction field on a uniform grid of density
      specified by the user.
    </p>

    <p>
      <a href = "../../m_src/vector_magnitude_grid/vector_magnitude_grid.html">
      VECTOR_MAGNITUDE_GRID</a>, 
      a MATLAB program which
      reads node and vector data from a file, computes an interpolatory function,
      evaluates on a uniform grid of points specified by the user,
      and displays a contour plot of the vector magnitude.
    </p>

    <p>
      <a href = "../../f_src/vector_plot/vector_plot.html">
      VECTOR_PLOT</a>, 
      a FORTRAN90 program which
      can read an XY file
      and a UV file and plot the velocity and velocity direction fields.
    </p>

    <p>
      <a href = "../../m_src/vector_stream_grid/vector_stream_grid.html">
      VECTOR_STREAM_GRID</a>, 
      a MATLAB program which
      reads node and vector data from a file, computes an interpolatory function,
      evaluates on a uniform grid of points specified by the user,
      and displays a streamline plot of the vector field.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows/velocity_arrows.html">
      VELOCITY_ARROWS</a>, 
      a MATLAB program which
      plots a velocity field from separate files of node and velocity
      information.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows_grid/velocity_arrows_grid.html">
      VELOCITY_ARROWS_GRID</a>, 
      a MATLAB program which 
      reads separate files of
      node and velocity data, and using interpolation is
      able to display a velocity vector field along any uniform grid
      of points specified by the user.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows_grid2/velocity_arrows_grid2.html">
      VELOCITY_ARROWS_GRID2</a>,
      a MATLAB program which
      reads a single file of XYUV
      node and velocity data, and using interpolation is
      able to display a velocity vector field along any uniform grid
      of points specified by the user.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows_sequence/velocity_arrows_sequence.html">
      VELOCITY_ARROWS_SEQUENCE</a>,
      a MATLAB program which
      can process a set of many data files
      with names that are numbered in sequence.
    </p>

    <p>
      <a href = "../../m_src/velocity_arrows2/velocity_arrows2.html">
      VELOCITY_ARROWS2</a>,
      a MATLAB program which
      plots a 
      velocity field, and assumes that the node and velocity 
      data are stored in a <i>single</i> table file.
    </p>

    <h3 align = "center">
      Source Code:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "velocity_arrows_grid_sequence2.m">
          velocity_arrows_grid_sequence2.m</a>, 
          is the program;
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Examples and Tests:
    </h3>

    <p>
      The <b>VEL_FINAL</b> dataset models flow in a 2D driven cavity.  
      The following files are available:
      <ul>
        <li>
          <a href = "vel_final001.txt">vel_final001.txt</a>, 
        </li>
        <li>
          <a href = "vel_final002.txt">vel_final002.txt</a>, 
        </li>
        <li>
          <a href = "vel_final003.txt">vel_final003.txt</a>, 
        </li>
        <li>
          <a href = "vel_final004.txt">vel_final004.txt</a>, 
        </li>
      </ul>
    </p>

    <p>
      The command 
      <blockquote><b>
        velocity_arrows_grid_sequence2 ( 'vel_final001.txt', 0, 20 )
      </b></blockquote>
      created the following files:
      <ul>
        <li>
          <a href = "vel_final001.png">vel_final001.png</a>
        </li>
        <li>
          <a href = "vel_final002.png">vel_final002.png</a>
        </li>
        <li>
          <a href = "vel_final003.png">vel_final003.png</a>
        </li>
        <li>
          <a href = "vel_final004.png">vel_final004.png</a>
        </li>
      </ul>
    </p>

    <p>
      You can go up one level to <a href = "../m_src.html">
      the MATLAB source codes</a>.
    </p>

    <hr>

    <i>
      Last revised on 04 June 2007.
    </i>

    <!-- John Burkardt -->

  </body>

</html>
